# Commit Rules

## Обязательные проверки перед коммитом

Перед каждым коммитом **ОБЯЗАТЕЛЬНО** выполнять следующие проверки:

### 1. Линтер
```bash
golangci-lint run
```
- Должен завершиться с кодом 0 (без ошибок)
- Если есть ошибки - исправить их перед коммитом

### 2. Тесты
```bash
go test ./... -count=1 -race -timeout=60s
```
- Все тесты должны проходить
- Race detection включен
- Timeout 60 секунд

### 3. Коммит только после успешных проверок
- Коммит делается **ТОЛЬКО** после успешного прохождения линтера и тестов
- Никаких исключений

## Формат сообщений коммитов

### Структура
```
<branch-name>: <short-description>
```

### Правила
- **Короткие** - максимум 72 символа в первой строке
- **Лаконичные** - без лишних слов
- **Информативные** - понятно что изменилось
- **Без воды** - никаких "fix", "update", "improve" без контекста

### Примеры хороших сообщений
```
security/add-rate-limiting: fix linter errors in tests
auth/jwt-validation: add secret strength validation
config/cors: move domains to env variables
```

### Примеры плохих сообщений
```
fix bugs
update code
improve performance
security: fix some issues and improve code quality
```

## Процесс коммита

1. Внести изменения в код
2. Запустить `golangci-lint run`
3. Запустить `go test ./... -count=1 -race -timeout=60s`
4. Если проверки прошли успешно - сделать коммит
5. Если проверки не прошли - исправить ошибки и повторить с шага 2

## Исключения

**НЕТ ИСКЛЮЧЕНИЙ** - правила применяются ко всем коммитам без исключений.
