# Strive API - ะัะพะณะพะฒัะน ะพััะตั ะฟัะพะตะบัะฐ

## ๐ฏ ะะฑะทะพั ะฟัะพะตะบัะฐ

API ะดะปั ะดะฝะตะฒะฝะธะบะฐ ััะตะฝะธัะพะฒะพะบ ั ะฐััะตะฝัะธัะธะบะฐัะธะตะน ะธ ัะฟัะฐะฒะปะตะฝะธะตะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ, ะฟะพัััะพะตะฝะฝัะน ะฝะฐ Go ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ัะพะฒัะตะผะตะฝะฝัั ะฟัะฐะบัะธะบ ัะฐะทัะฐะฑะพัะบะธ.

## ๐ ะกัะฐัะธััะธะบะฐ ะฟัะพะตะบัะฐ

- **Go ัะฐะนะปะพะฒ**: 14
- **ะะพะผะผะธัะพะฒ**: 7
- **ะญัะฐะฟะพะฒ ะฒัะฟะพะปะฝะตะฝะพ**: 4 ะธะท 8 (5-ะน ะพัะปะพะถะตะฝ)
- **ะขะตััะพะฒ**: 4 unit ัะตััะฐ (ะฒัะต ะฟัะพัะพะดัั)
- **ะัะตะผั ัะฐะทัะฐะฑะพัะบะธ**: ~2-3 ัะฐัะฐ

## โ ะัะฟะพะปะฝะตะฝะฝัะต ััะฐะฟั

### ะญัะฐะฟ 1: ะะฐะทะฐ ะธะฝััะฐััััะบัััั โ
- โ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ (`cmd/server`, `internal/...`)
- โ HTTP ัะตัะฒะตั ั graceful shutdown
- โ Endpoint `/health` 
- โ ะะฝััััะผะตะฝัั ัะฐะทัะฐะฑะพัะบะธ (Makefile, golangci-lint)
- โ ะะพะณะธัะพะฒะฐะฝะธะต ะทะฐะฟัะพัะพะฒ

### ะญัะฐะฟ 2: ะะพะฝัะธะณััะฐัะธั ะธ ะฝะฐะฑะปัะดะฐะตะผะพััั โ
- โ ะะพะฝัะธะณััะฐัะธั ัะตัะตะท ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
- โ ะกัััะบัััะธัะพะฒะฐะฝะฝะพะต JSON/text ะปะพะณะธัะพะฒะฐะฝะธะต
- โ HTTP middleware ะดะปั ะปะพะณะธัะพะฒะฐะฝะธั ะธ Request ID
- โ ะะฐะปะธะดะฐัะธั ะบะพะฝัะธะณััะฐัะธะธ ะฟัะธ ััะฐััะต

### ะญัะฐะฟ 3: ะะฐะทะฐ ะดะฐะฝะฝัั โ
- โ ะะพะดะบะปััะตะฝะธะต ะบ PostgreSQL ั connection pool
- โ ะะฒัะพะผะฐัะธัะตัะบะธะต ะผะธะณัะฐัะธะธ ั golang-migrate
- โ ะะพะดะตะปั ะฟะพะปัะทะพะฒะฐัะตะปั (User)
- โ Health check ะดะปั ะฑะฐะทั ะดะฐะฝะฝัั
- โ Docker-compose ะดะปั ัะฐะทัะฐะฑะพัะบะธ

### ะญัะฐะฟ 4: ะััะตะฝัะธัะธะบะฐัะธั ะธ ะฐะฒัะพัะธะทะฐัะธั โ
- โ JWT ัะพะบะตะฝั (access/refresh)
- โ ะฅะตัะธัะพะฒะฐะฝะธะต ะฟะฐัะพะปะตะน ั bcrypt
- โ UserRepository ะดะปั ัะฐะฑะพัั ั ะะ
- โ AuthService ั ัะตะณะธัััะฐัะธะตะน ะธ ะปะพะณะธะฝะพะผ
- โ JWT middleware ะดะปั ะทะฐัะธัั endpoints
- โ API endpoints: `/api/v1/auth/register`, `/api/v1/auth/login`

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### Unit ัะตััั
- โ 4 ัะตััะฐ ะดะปั AuthService
- โ Mock ัะตะฟะพะทะธัะพัะธะน ะดะปั ะธะทะพะปััะธะธ
- โ ะะพะบัััะธะต: ัะตะณะธัััะฐัะธั, ะปะพะณะธะฝ, JWT ะฒะฐะปะธะดะฐัะธั, ัะตัะธัะพะฒะฐะฝะธะต ะฟะฐัะพะปะตะน
- โ ะัะต ัะตััั ะฟัะพัะพะดัั ะทะฐ ~1.2 ัะตะบัะฝะดั

### ะะพะผะฐะฝะดั ัะตััะธัะพะฒะฐะฝะธั
```bash
make test              # ะัะต ัะตััั
go test ./internal/services -v  # ะขะตััั ัะตัะฒะธัะพะฒ
```

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ
โ   HTTP Client   โ
โโโโโโโโโโโฌโโโโโโโโ
          โ
โโโโโโโโโโโผโโโโโโโโ
โ  HTTP Handlers  โ
โโโโโโโโโโโฌโโโโโโโโ
          โ
โโโโโโโโโโโผโโโโโโโโ
โ  Auth Service   โ
โโโโโโโโโโโฌโโโโโโโโ
          โ
โโโโโโโโโโโผโโโโโโโโ
โ User Repository โ
โโโโโโโโโโโฌโโโโโโโโ
          โ
โโโโโโโโโโโผโโโโโโโโ
โ   PostgreSQL    โ
โโโโโโโโโโโโโโโโโโโ
```

## ๐ง ะะฝััััะผะตะฝัั ัะฐะทัะฐะฑะพัะบะธ

### Makefile ะบะพะผะฐะฝะดั
```bash
make run-dev     # ะะฐะฟััะบ ั ะฟะตัะตะผะตะฝะฝัะผะธ ัะฐะทัะฐะฑะพัะบะธ
make test        # ะะฐะฟััะบ ัะตััะพะฒ
make lint        # ะัะพะฒะตัะบะฐ ะบะพะดะฐ
make format      # ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะบะพะดะฐ
make build       # ะกะฑะพัะบะฐ ะฑะธะฝะฐัะฝะธะบะฐ
make db-up       # ะะฐะฟััะบ PostgreSQL
make db-down     # ะััะฐะฝะพะฒะบะฐ PostgreSQL
```

### ะะพะฝัะธะณััะฐัะธั
- **ะะธะฝัะตั**: golangci-lint ั 20+ ะฟัะฐะฒะธะปะฐะผะธ
- **ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต**: gofumpt + goimports
- **ะขะตััะธัะพะฒะฐะฝะธะต**: go test ั race detection

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- โ ะะฐัะพะปะธ ัะตัะธัััััั ั bcrypt (cost 10)
- โ JWT ัะพะบะตะฝั ะฟะพะดะฟะธััะฒะฐัััั HMAC SHA256
- โ Access ัะพะบะตะฝั: 15 ะผะธะฝัั
- โ Refresh ัะพะบะตะฝั: 7 ะดะฝะตะน
- โ ะะฐะปะธะดะฐัะธั ะฒัะพะดะฝัั ะดะฐะฝะฝัั
- โ Graceful error handling

## ๐ก API Endpoints

### ะัะฑะปะธัะฝัะต
- `GET /health` - Health check
- `POST /api/v1/auth/register` - ะะตะณะธัััะฐัะธั
- `POST /api/v1/auth/login` - ะัะพะด ะฒ ัะธััะตะผั

### ะะฐัะธัะตะฝะฝัะต (JWT)
- `GET /api/v1/user/profile` - ะัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั

## ๐ ะะพัะพะฒะฝะพััั ะบ ะฟัะพะดะฐะบัะตะฝั

### โ ะะพัะพะฒะพ
- Graceful shutdown
- ะกัััะบัััะธัะพะฒะฐะฝะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต
- ะะพะฝัะธะณััะธััะตะผะพััั ัะตัะตะท env vars
- Connection pooling
- ะะฒัะพะผะฐัะธัะตัะบะธะต ะผะธะณัะฐัะธะธ
- Unit ัะตััั

### โธ๏ธ ะัะปะพะถะตะฝะฝัะต ััะฐะฟั
- **ะญัะฐะฟ 5: API v1** - ะพัะปะพะถะตะฝ ะดะพ ะฟัะพัะฐะฑะพัะบะธ ะฑะธะทะฝะตั-ะปะพะณะธะบะธ
  - ะขัะตะฑัะตั ะดะตัะฐะปัะฝะพะณะพ ะฟัะพะดัะผัะฒะฐะฝะธั ะผะพะดะตะปะตะน ะดะฐะฝะฝัั
  - ะัะถะฝะฐ ะฟัะพัะฐะฑะพัะบะฐ ัะฒัะทะตะน ะผะตะถะดั ัััะฝะพัััะผะธ
  - ะะตะพะฑัะพะดะธะผะพ ะพะฟัะตะดะตะปะธัั ะฑะธะทะฝะตั-ะฟัะฐะฒะธะปะฐ

### ๐ ะกะปะตะดัััะธะต ัะฐะณะธ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
- Rate limiting
- ะะตััะธะบะธ (Prometheus)
- OpenAPI ะดะพะบัะผะตะฝัะฐัะธั
- Integration ัะตััั
- CI/CD pipeline

## ๐ ะะตััะธะบะธ ะบะฐัะตััะฒะฐ

- **ะะพะบัััะธะต ัะตััะฐะผะธ**: ะัะฝะพะฒะฝะฐั ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ ะฟะพะบัััะฐ
- **ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั**: ะขะตััั ะฒัะฟะพะปะฝััััั ะทะฐ <1.5 ัะตะบัะฝะดั
- **ะะตะทะพะฟะฐัะฝะพััั**: ะกะพะฒัะตะผะตะฝะฝัะต ะฟัะฐะบัะธะบะธ (bcrypt, JWT)
- **ะงะธัะฐะตะผะพััั**: ะงะธััะฐั ะฐััะธัะตะบัััะฐ, ัะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ

## ๐ ะะฐะบะปััะตะฝะธะต

ะัะพะตะบั ััะฟะตัะฝะพ ัะตะฐะปะธะทะพะฒะฐะฝ ั ัะพะฑะปัะดะตะฝะธะตะผ ัะพะฒัะตะผะตะฝะฝัั ะฟัะฐะบัะธะบ ัะฐะทัะฐะฑะพัะบะธ ะฝะฐ Go. ะกะพะทะดะฐะฝะฐ ะฝะฐะดะตะถะฝะฐั ะพัะฝะพะฒะฐ ะดะปั API ะดะฝะตะฒะฝะธะบะฐ ััะตะฝะธัะพะฒะพะบ ั ะฐััะตะฝัะธัะธะบะฐัะธะตะน, ะณะพัะพะฒะฐั ะบ ะดะฐะปัะฝะตะนัะตะผั ัะฐะทะฒะธัะธั.

**ะะปััะตะฒัะต ะดะพััะธะถะตะฝะธั:**
- ะงะธััะฐั ะฐััะธัะตะบัััะฐ ั ัะฐะทะดะตะปะตะฝะธะตะผ ัะปะพะตะฒ
- ะะพะปะฝะพัะตะฝะฝะฐั ัะธััะตะผะฐ ะฐััะตะฝัะธัะธะบะฐัะธะธ
- ะะพะผะฟะปะตะบัะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต
- ะะพัะพะฒะฝะพััั ะบ ัะฐะทะฒะตัััะฒะฐะฝะธั
- ะัะปะธัะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
