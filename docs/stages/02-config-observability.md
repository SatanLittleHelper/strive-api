# Этап 2: Конфигурация и наблюдаемость

## Цель этапа
Настроить конфигурацию приложения и систему логирования для мониторинга и отладки.

## 2.1 Конфигурация
- [ ] Создать структуру конфигурации (Config struct)
- [ ] Реализовать загрузку из переменных окружения
- [ ] Добавить валидацию конфигурации при старте

### Детали реализации
- Использовать переменные окружения для порта, строки подключения к БД, JWT секрета
- Добавить поддержку конфигурационных файлов (опционально)
- Валидировать обязательные параметры при старте

## 2.2 Логирование
- [ ] Настроить структурированное JSON логирование
- [ ] Добавить разные уровни логов (DEBUG, INFO, WARN, ERROR)
- [ ] Интегрировать логирование в HTTP middleware

### Детали реализации
- Использовать `slog` или `logrus` для структурированного логирования
- Добавить request ID для трассировки запросов
- Логировать время выполнения запросов

## Критерии готовности
- [ ] Конфигурация загружается из переменных окружения
- [ ] Логи выводятся в JSON формате
- [ ] HTTP middleware логирует все запросы
- [ ] Валидация конфигурации работает при некорректных параметрах

## Время выполнения
Ориентировочно: 1 день

## Предыдущий этап
[Этап 1: База инфраструктуры](./01-infrastructure.md)

## Следующий этап
[Этап 3: База данных](./03-database.md)
